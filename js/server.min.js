var httpServer=new HTTPServer(8080);httpServer.addEventListener("request",function(e){var t=e.request,n=e.response;console.log(t);var r=JSON.stringify(t.params,null,2),a=JSON.stringify(t.body,null,2),o=t.body&&t.body.first_name||"",s=t.body&&t.body.last_name||"",i="<!DOCTYPE html><html><head><title>Firefox OS Web Server</title></head><body><h1>Hello World!</h1><h3>If you can read this, the Firefox OS Web Server is operational!</h3><p>The path you requested is: "+t.path+"</p><h5>URL Parameters:</h5><pre>"+r+"</pre><h5>POST Data:</h5><pre>"+a+'</pre><h3>Sample Form</h3><form method="POST" action="."><p><label>First Name:</label><input type="text" name="first_name" value="'+o+'"></p><p><label>Last Name:</label><input type="text" name="last_name" value="'+s+'"></p><input type="submit" value="Submit"></form><p>To see something really scary, <a href="/image.jpg">click here</a> :-)</p></body></html>';n.send(i)}),window.addEventListener("load",function(){var e=document.getElementById("server-status"),t=document.getElementById("ip-address"),n=document.getElementById("listening-port"),r=document.getElementById("start-server"),a=document.getElementById("stop-server");IPUtils.getAddresses(function(e){t.textContent=t.textContent||e}),n.textContent=httpServer.port,r.addEventListener("click",function(){httpServer.start(),e.textContent="Running"}),a.addEventListener("click",function(){httpServer.stop(),e.textContent="Stopped"})}),window.addEventListener("beforeunload",function(){httpServer.stop()});